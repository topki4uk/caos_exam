## Что такое прерывание, какие они бывают?

Прерывание - мгновенное переключение процессора с текущей задачи на обработку специального события.

**Три основные группы:**
1. Аппаратное прерывание (`IRQ`)
    - Нажали пробел на клавиатуре;
    - Сетевая карта подала сигнал;
    - Прерывание таймера.
2. Программное прерывание (`Software interrupt`)
    - Вызов `int 0x80` для syscall.
3. Исключение (`Exception`)
    - Деление на 0;
    - Page Fault.

## Что такое interrupt descriptor table?

`Interrupt Descriptor Table` (IDT) содержит адреса функций, которые нужно вызвать при прерываниях (исключительных ситуациях).

**Если по правде:** В архитектуре x86 события, требующие обработки через IDT, 
делятся на три основные группы: аппаратные прерывания, исключения процессора и программные прерывания.
Однако внутри этих групп есть дополнительные подтипы, которые упомянатся далее не будут.

## Чем похожи и чем отличаются прерывание и вызов сисколла?

#### Сходства:
* Переход в режим ядра
* Изменение привилегий (`ring 3` -> `ring 0`)
* Сохранение контекста
* Использование таблицы переходов

#### Отличия:
* Инициаторство
  * Прерывание вызывается в любой момент, например, клавишей, таймером или ошибкой, при этом 
обрабатывается асинхронно
  * Вызывается явно программой и работает синхронно
* Вызывание
  * Прерывание - сигналом `0x80`
  * Сискол - через MSR (Model Specific Registers)
* Цели
  * У прерываний: обработка устройств и ошибок CPU
  * У сисколов: получение услуги ядра

## Как сгенерировать прерывание с помощью ассемблерной вставки напрямую?

* см. пример (`0x0`, `0x3`)

## Как ОС с помощью механизма прерываний держит под контролем все процессы?

У процессора есть таймер, который способен генерировать прерывания. И есть отдельный тип — прерывание от таймера.
У процессора также есть таблица адресов, куда идти, если случилось прерывание.

ОС стоит во главе всех процессов. Она и заводит таблицу прерываний и обеспечивает своевременное прерывание от таймера. Как только процессор переходит по адресу указанной функции, ОС, фактически снова полноправная, ставит следующий процесс исполняться на определенное ей количество тактов.
На момент прерывания ОС знает все: в регистрах процессора записан номер процесса и пр.
