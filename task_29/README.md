## Что такое сигналы?

**Сигналы** — это асинхронные уведомления, отправляемые процессу. 
Они могут быть отправлены ядром, другим процессом или самим процессом. 
Сигналы могут быть обработаны (handled), 
проигнорированы (ignored) или вызвать действие по умолчанию (default action).

##  Как послать сигнал процессу из терминала, а также из кода программы?

```shell
  # Команда для работы с сигналами
  man kill
```

```shell
  # Команда для работы с сигналами (уже как сискол)
  man 2 kill
```

```shell
  # Посылаем команду SIGKILL
  kill -SIGKILL $(pgrep example)
```

```shell
  # Все сигналы и в одном месте
  man 7 signal
```

```text
Signal        x86/ARM     Alpha/   MIPS   PARISC   Notes
           most others   SPARC
─────────────────────────────────────────────────────────────────
SIGHUP           1           1       1       1
SIGINT           2           2       2       2
SIGQUIT          3           3       3       3
SIGILL           4           4       4       4
SIGTRAP          5           5       5       5
SIGABRT          6           6       6       6
SIGIOT           6           6       6       6
SIGBUS           7          10      10      10
SIGEMT           -           7       7      -
SIGFPE           8           8       8       8
SIGKILL          9           9       9       9
SIGUSR1         10          30      16      16
SIGSEGV         11          11      11      11
SIGUSR2         12          31      17      17
SIGPIPE         13          13      13      13
SIGALRM         14          14      14      14
SIGTERM         15          15      15      15
SIGSTKFLT       16          -       -        7
SIGCHLD         17          20      18      18
SIGCLD           -          -       18      -
SIGCONT         18          19      25      26
SIGSTOP         19          17      23      24
SIGTSTP         20          18      24      25
SIGTTIN         21          21      26      27
SIGTTOU         22          22      27      28
SIGURG          23          16      21      29
SIGXCPU         24          24      30      12
SIGXFSZ         25          25      31      30
SIGVTALRM       26          26      28      20
SIGPROF         27          27      29      21
SIGWINCH        28          28      20      23
SIGIO           29          23      22      22
SIGPOLL                                            Same as SIGIO
SIGPWR          30         29/-     19      19
SIGINFO          -         29/-     -       -
SIGLOST          -         -/29     -       -
SIGSYS          31          12      12      31
SIGUNUSED       31          -       -       31
```

## Перечислите известные вам стандартные сигналы с объяснением, для чего они применяются.

* `SIGINT` - прерывание с клавиатуры, аналогично `Ctrl + C`
* `SIGILL` - Illegal Instructions. Если процессор пытается исполнить неизвестную инструкцию
* `SIGKILL` - вызывается для принудительного завершения процесса (нельзя перехватить)
* `SIGSEGV` - Segmentation Fault. Если обращаемся не к своей памяти
* `SIGTERM` - для завершения процесса (можно перехватить)
* `SIGSTOP` - вызывается для остановки процесса `Ctrl + Z`
* `SIGCONT` - вызывается для продолжения остановленного процесса
* `SIGFPE ` - ошибка в арифметике, например, деление на ноль

## Какова стандартная реакция процессов на каждый из сигналов?

Есть несколько реакция на сигналы:
* Завершение процесса:
  * `SIGINT`
  * `SIGKILL`
  * `SIGTERM`
  * и другие
* Завершение процесса (с созданием **core**-файла):
  * `SIGSEGV`
  * `SIGILL`
  * `SIGFPE`
  * и другие
* Остановка процесса:
  * `SIGSTOP`
* Продолжение процесса:
  * `SIGCONT`

Также стоит отметить, что сигналы `SIGKILL` и `SIGSTOP` нельзя перехватить, еще нельзя переопределить их поведение.
Это гарантии ядра, чтобы можно было управлять процессом.

## Как вручную из терминала вызвать у стороннего процесса `segfault`?

```shell
  kill -SIGSEGV $(pgrep example)
```

## Как из кода послать сигнал самому себе?

* `raise` - сами отправляем сигнал
* `getpid() + kill()` - аналогично

## Как в коде программы заснуть до прихода сигнала?

* `pause()` - просто, но срабатывает на любой сигнал
```shell
  man 2 pause
```

```shell
  # Уже рабочий пример
  kill -SIGUSR1 $(pgrep until_sleep)
```